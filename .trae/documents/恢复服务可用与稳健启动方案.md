## 问题定位
- 模板渲染：此前因找不到 index.html 导致 500；已在 repo_src/templates 补齐，但需要确保路由与路径稳健。
- 静态资源：前端资源应统一经 /static/... 提供，避免相对路径失效。
- 启动方式：开发模式带自动重载，易触发重启与不可用；需改为稳定的生产运行。
- 数据库初始化：振动表索引重复（Duplicate key name 'idx_feature_dataset'），应在创建索引前做存在性检查，避免异常影响服务。

## 具体改动
1) 路由与模板稳健化
- 在 [api_server.py](file:///d:/Self-Made%20Digital%20Twin%20Terrain%20Settlement%20(V1)/python_scripts/repo_src/modules/api/api_server.py) 中：
  - 保持 template_folder 指向 ../../templates（即 repo_src/templates）
  - 为 / 增加降级策略：若模板加载失败则回退到发送静态入口页（repo_src/pre/index.html）
  - 新增 /health 健康检查路由，返回 {status:"ok"}

2) 静态资源统一
- 确认模板中的链接统一为 /static/css/... 与 /static/js/...（已调整），保留现有 static 目录下源码文件夹结构

3) 启动方式调整
- 在 [start_system.py](file:///d:/Self-Made%20Digital%20Twin%20Terrain%20Settlement%20(V1)/python_scripts/repo_src/start_system.py) 中：
  - 明确禁用 debug 与自动重载（use_reloader=False、debug=False）
  - 统一工作目录设置为 repo_src，避免路径漂移
  - 输出健康检查 URL 提示，方便验证服务状态

4) 振动索引重复修复
- 在 [vibration_handler.py](file:///d:/Self-Made%20Digital%20Twin%20Terrain%20Settlement%20(V1)/python_scripts/repo_src/modules/api/vibration_handler.py)（或相关初始化处）：
  - 在创建索引前执行 SHOW INDEX FROM <table> WHERE Key_name='idx_feature_dataset'；仅在不存在时创建
  - 若历史中存在多次迁移，先捕获重复错误并继续，使服务不被阻断

5) 运行与验证
- 运行：python repo_src/start_system.py（生产模式）
- 验证：
  - 访问 /health 应返回 200 与 {status:"ok"}
  - 访问 / 显示主页（模板可用，若失败自动回退静态页）
  - 访问 /static/* 资源正常加载

6) 可选优化
- 依赖警告：升级 bottleneck 至 ≥1.3.6（在 requirements.txt 中锁定版本）
- 日志：增加统一异常日志输出与简明提示页，避免用户看到不友好的 500 页面

## 交付结果
- 服务稳定可用（无自动重启干扰）
- 模板与静态资源路径统一
- 数据库初始化不再因重复索引中断

确认后我将按以上步骤更新代码并启动验证。